<div class="container mx-auto max-w-6xl px-4 py-6 text-center">
  <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6">
    Gestion des Produits
  </h1>

  <div>
    <a routerLink="add">Ajouter un produit</a>
  </div>

  <div class="overflow-x-auto bg-white shadow-md rounded-lg">
    <table class="table-auto w-full border-collapse">
      <thead class="bg-gray-200 text-gray-700">
        <tr>
          <th class="p-2 min-w-[50px]">Id</th>
          <th class="p-2 min-w-[150px]">Nom</th>
          <th class="p-2 min-w-[200px]">Description</th>
          <th class="p-2 min-w-[100px]">Prix</th>
          <th class="p-2 min-w-[80px]">Stock</th>
          <th class="p-2 min-w-[120px]">Image</th>
          <th class="p-2 min-w-[150px]">Catégorie</th>
          <th class="p-2 min-w-[150px]">Options</th>
        </tr>
      </thead>
      <tbody>
        @for (product of products(); track product.id) {
        <tr class="hover:bg-gray-100 border-b">
          <td class="p-2">{{ product.id }}</td>
          <td class="p-2 font-semibold">{{ product.name }}</td>
          <td class="p-2 text-gray-600 text-sm truncate">
            {{ product.description }}
          </td>
          <td class="p-2 font-medium text-green-600">{{ product.price }}€</td>
          <td class="p-2 font-medium">{{ product.stock }}</td>
          <td class="p-2">
            <img
              [src]="product.imgUrl"
              alt="{{ product.name }}"
              class="h-12 w-auto rounded-lg shadow"
            />
          </td>
          <td class="p-2">{{ product.categoryName }}</td>
          <td class="p-2 flex justify-center gap-2">
            <button
              class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
            >
              <i class="fa-solid fa-edit"></i>
            </button>
            <button
              class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition"
              confirm="Êtes vous sûr de vouloir supprimer ce produit ?"
              (confirmDelete)="deleteProduct(product.id)"
            >
              <i class="fa-solid fa-trash"></i>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
